type: input file for RAFT
name: 5MW with OC4-DeepCWind semi-sub


settings:                   # global Settings
    min_freq     :  0.005   #  [Hz]       lowest frequency to consider, also the frequency bin width 
    max_freq     :  0.40    #  [Hz]       highest frequency to consider
    XiStart      :   0      # sets initial amplitude of each DOF for all frequencies
    nIter        :  10      # sets how many iterations to perform in Model.solveDynamics()
    
site:
    water_depth : 200        # [m]      uniform water depth
    rho_water   : 1025.0     # [kg/m^3] water density
    rho_air     : 1.225      # [kg/m^3] air density
    mu_air      : 1.81e-05   #          air dynamic viscosity
    shearExp    : 0.12       #          shear exponent
    
cases:
    keys : [wind_speed, wind_heading, turbulence, turbine_status, yaw_misalign, wave_spectrum, wave_period, wave_height, wave_heading  ]
    data :  #   m/s        deg    % or e.g. 2B_NTM    string            deg         string          (s)         (m)         (deg)
        -  [    0,         0,            0.0,       parked,          0,        JONSWAP,         5.638,        1.081,           0        ]

platform:

    min_freq_BEM : 0.03   #  [Hz]  lowest frequency and frequency interval to use in BEM analysis
    dz_BEM       : 3.0    #  [m]   axial discretization panel length target for BEM analysis
    da_BEM       : 2.0    #  [m]   azimuthal discretization panel length target for BEM analysis
    potModMaster : 3

    ###### WAMIT #####
    hydroPath    : '/scratch/sbidadi/ai4wind/raft/deepcwind/deepcwind_runs/openfast_params/HydroData/marin_semi'      # path to the hydrodynamic data file for the platform
    potFirstOrder: 1      # [int] 0=do not load pre-computed first-order coefficients, 1= load pre-computed first-order coefficients in WAMIT format (.1 and .3 files)    
    potSecOrder  : 2      # [int] master switch for computing second-order wave forces; 0=do not compute, 1=compute QTFs using slender body approximation, 2=read QTF file in WAMIT format (assuming .12d)
 
    members:   # list all members here
        
      - name      :  main_column               # [-]    an identifier (no longer has to be number)       
        type      :  2                         # [-]    (1=turbine, >1=substructure, for now)
        rA        :  [ 0, 0,  -20]             # [m]    end A coordinates
        rB        :  [ 0, 0,   10]             # [m]    and B coordinates
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  True                      # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [-20, 10 ]                # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  [ 6.0,  6.0]              # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.03                      # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.8                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  1.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.6                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3]   material density
        # --- handling of end caps or any internal structures if we need them ---
        # (These will only be *within* the inner diameter of the outer shell, so they don't interrupt the outer shell.)
        cap_stations :  [ -20 ]                # [m]  location along member of any inner structures (in same scaling as set by 'stations')
        cap_t        :  [ 0.03  ]              # [m]  thickness of any internal structures
        cap_d_in     :  [ 0  ]                 # [m]  inner diameter of internal structures (0 for full cap/bulkhead, >0 for a ring shape)
      
      
      - name      :  offset_column             # [-]    an identifier (no longer has to be number)       
        type      :  3                         # [-]    (1=turbine, >1=substructure, for now)
        rA        :  [ 28.86 , 0,  -20]        # [m]    end A coordinates
        rB        :  [ 28.86 , 0,   12]        # [m]    and B coordinates
        heading   :  [ 60, 180, 300]           # [deg]  heading rotation of column about z axis (for repeated members)
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  True                      # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [-20, -14, -14, 12 ]      # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  [ 22.93, 22.93, 10.26,  10.26]        # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.06                      # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.8                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  1.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.6                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3]   material density
        # --- ballast ---
        l_fill    :  [5.0418, 0, 7.77]         # [m]
        rho_fill  :  [1025.0, 0, 1025.0]       # [kg/m3]
        # --- handling of end caps or any internal structures if we need them ---
        # (These will only be *within* the inner diameter of the outer shell, so they don't interrupt the outer shell.)
        cap_stations :  [ -20, -14, -14, 12]             # [m]  location along member of any inner structures (in same scaling as set by 'stations')
        cap_t        :  [ 0.06, 0.06, 0.06, 0.06  ]      # [m]  thickness of any internal structures
        cap_d_in     :  [ 0 , 12, 0, 0   ]               # [m]  inner diameter of internal structures (0 for full cap/bulkhead, >0 for a ring shape)


      - name      :  delta_upper_pontoon       # [-]    an identifier (no longer has to be number)       
        type      :  5                         # [-]    (1=turbine, >1=substructure, for now)
        rA        :  [ 23.67 , 3,  10]         # [m]    end A coordinates
        rB        :  [ -9.2, 22,   10]         # [m]    and B coordinates
        heading   :  [ 60, 180, 300]
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  False                     # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 1 ]                   # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  [ 1.851, 1.851]               # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.0175                    # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.8                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  1.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.6                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3]   material density


      - name      :  delta_lower_pontoon       # [-]    an identifier (no longer has to be number)       
        type      :  6                         # [-]    (1=turbine, >1=substructure, for now)
        rA        :  [ 18.47 , 6,  -17]        # [m]    end A coordinates
        rB        :  [ -4 , 19,   -17]         # [m]    and B coordinates
        heading   :  [60, 180, 300]            # [deg]  heading rotation of column about z axis (for repeated members)
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  False                     # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 1 ]                   # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  [ 1.851, 1.851]               # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.0175                    # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.8                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  1.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.6                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3]   material density


      - name      :  Y_upper_pontoon           # [-]    an identifier (no longer has to be number)       
        type      :  7                         # [-]    (1=turbine, >1=substructure, for now)
        rA        :  [ 3.25 , 0,  10]          # [m]    end A coordinates
        rB        :  [ 22.86 , 0,   10]        # [m]    and B coordinates
        heading   :  [60, 180, 300]            # [deg]  heading rotation of column about z axis (for repeated members)
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  False                     # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 1]                    # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  [ 1.851, 1.851]               # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.0175                    # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.8                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  1.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.6                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3]   material density


      - name      :  Y_lower_pontoon           # [-]    an identifier (no longer has to be number)       
        type      :  8                         # [-]    (1=turbine, >1=substructure, for now)
        rA        :  [ 3.25 , 0,  -17]         # [m]    end A coordinates
        rB        :  [ 16.87 , 0,  -17]        # [m]    and B coordinates
        heading   :  [60, 180, 300]            # [deg]  heading rotation of column about z axis (for repeated members)
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  False                     # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 1]                    # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  [ 1.851, 1.851]               # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.0175                    # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.8                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  1.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.6                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3]   material density


      - name      :  cross_brace               # [-]    an identifier (no longer has to be number)       
        type      :  9                         # [-]    (1=turbine, >1=substructure, for now)
        rA        :  [ 3.25 , 0,  -16.2]       # [m]    end A coordinates
        rB        :  [ 22.86 , 0,   9.13]      # [m]    and B coordinates
        heading   :  [ 60, 180, 300]           # [deg]  heading rotation of column about z axis (for repeated members)
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  False                     # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
       # --- outer shell including hydro---
        stations  :  [0, 1]                    # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  [ 1.851, 1.851]               # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.0175                    # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.8                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  1.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.6                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3]   material density

mooring:
    water_depth: 200                                  # [m]       uniform water depth
    
    points:
        - name: line1_anchor
          type: fixed
          location: [-105.47, 0.0, -58.4]
          anchor_type: drag_embedment

        - name: line2_anchor
          type: fixed
          location: [52.73, -91.34, -58.4]
          anchor_type: drag_embedment

        - name: line3_anchor
          type: fixed
          location: [52.73, 91.34, -58.4]
          anchor_type: drag_embedment

        - name: line1_vessel
          type: vessel
          location: [-40.868,   0.0,     -14.0]

        - name: line2_vessel
          type: vessel
          location: [20.434,     -35.393,     -14.0]

        - name: line3_vessel
          type: vessel
          location: [20.434,    35.393,     -14.0]

    lines:
        - name: line1
          endA: line1_anchor
          endB: line1_vessel
          type: main
          length: 55.432

        - name: line2
          endA: line2_anchor
          endB: line2_vessel
          type: main
          length: 55.432

        - name: line3
          endA: line3_anchor
          endB: line3_vessel
          type: main
          length: 55.432

    line_types:
        - name: main
          diameter: 0.004
          mass_density: 0.12
          stiffness: 2.710624e6
          breaking_load: 1e8
          cost: 100.0
          transverse_added_mass: 0.0
          tangential_added_mass: 0.0
          transverse_drag: 0.0
          tangential_drag: 0.0

    anchor_types:
        - name: drag_embedment
          mass: 1e3
          cost: 1e4
          max_vertical_load: 0.0
          max_lateral_load: 1e5
